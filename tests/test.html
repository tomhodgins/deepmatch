<script type=module>
  import object2microxml from './object-to-microxml.js'
  import microxml2dom from './microxml-to-dom.js'
  import dom2object from './dom-to-object.js'

  // Testing object2microxml()
  console.group('Converting objects to MicroXML')

    // String
    console.log(
      object2microxml('one')
    )

    // Array
    console.log(
      object2microxml([1, 2, 3])
    )

    // Object
    console.log(
      object2microxml({one: 1, two: 2, three: 3})
    )

    // Number
    console.log(
      object2microxml(1)
    )

    // Boolean
    console.log(
      object2microxml(true)
    )

    // Null
    console.log(
      object2microxml(null)
    )

  console.groupEnd()


  // Testing microxml2dom()
  console.group('Converting MicroXML to DOM')

    // String
    console.log(
      microxml2dom(
        ['string', {}, ['one']]
      )
    )

    // Array
    console.log(
      microxml2dom(
        ['array', {}, [
          ['number', {}, ['1']],
          ['number', {}, ['2']],
          ['number', {}, ['3']],
        ]]
      )
    )

    // Object
    console.log(
      microxml2dom(
        ['object', {}, [
          ['property', {}, [
            ['key', {}, ['one']],
            ['value', {}, [
              ['number', {}, ['1']]
            ]],
          ]],
          ['property', {}, [
            ['key', {}, ['two']],
            ['value', {}, [
              ['number', {}, ['2']]
            ]],
          ]],
          ['property', {}, [
            ['key', {}, ['three']],
            ['value', {}, [
              ['number', {}, ['3']]
            ]],
          ]]
        ]]
      )
    )

    // Number
    console.log(
      microxml2dom(['number', {}, ['1']])
    )

    // Boolean
    console.log(
      microxml2dom(['boolean', {}, ['true']])
    )

    // Null
    console.log(
      microxml2dom(['null', {}, ['null']])
    )

  console.groupEnd()

  // Testing dom2object()
  console.group('Converting DOM to JavaScript objects (roundtrip)')

    // String
    console.log(
      dom2object(
        microxml2dom(
          object2microxml('one')
        )
      )
    )

    // Array
    console.log(
      dom2object(
        microxml2dom(
          object2microxml([1, 2, 3])
        )
      )
    )

    // Object
    console.log(
      dom2object(
        microxml2dom(
          object2microxml({one: 1, two: 2, three: 3})
        )
      )
    )

    // Number
    console.log(
      dom2object(
        microxml2dom(
          object2microxml(1)
        )
      )
    )

    // Boolean
    console.log(
      dom2object(
        microxml2dom(
          object2microxml(true)
        )
      )
    )

    // Null
    console.log(
      dom2object(
        microxml2dom(
          object2microxml(null)
        )
      )
    )

  console.groupEnd()
</script>